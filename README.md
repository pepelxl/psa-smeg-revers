# psa-smeg-revers
Рассматриваем  конструкцию магнитолы SMEG пятой линейки.
<br>За основу взята прошивка 5.43.A.R2 и 6.4.A.R10  

Существуют три поколения магнитолы: SMEG, SMEG+, SMEGIV2. Все они заточены под свои модели автомобилей и сужается используемой темой в самой магнитоле. Существует предположение, что первые три версии OS обновляются до третьей для SMEG. 4, 5 обновляется до пятой для SMEG+. Шестая предназначена для SMEGIV2.  
Физически магнитолы имеют разную архитектуру:  
SMEG+ - PowerPC 2x400Mgz big-endian  
SMEGIV2 – ARM Cortex 1x800Mgz little-endian  


Папка SMEG_extract_harm содержит исходник и скомпилированную утилиту для извлечения тем из контейнера BIG_HARMONY.bin файлов обновления магнитолы.

Папка Load cal содержит утилиту для загрузки файла калибровки в магнитолу.

Ссылка на варианты кодировок для 6 оси https://drive.google.com/file/d/1EIV0orKCzKsZSx1PM2rB4obmCjci3UbF/view


Устройство содержит файловые разделы dosfs:  
  /SYSTEM_DATA  
  /SYSTEM_TMP_DATA  
  /USER_DATA  
  /USER_DATA_BACKUP  
  
  Backup содержит резервные копии файлов для востановления системы в случаии неисправности основных файлов в USER_DATA.  
  /USER_DATA/user_data/Audio пользовательские данные настроек радио  
  /USER_DATA/user_data/Nav пользовательские данные настроек навигации  
  /USER_DATA/user_data/T2BT пользовательские данные настроек телефона  
  Тоесть при загрузке сначала проверяются sql базы в USER_DATA. Если базы не исправны, то проверяются базы в /USER_DATA_BACKUP. Если базы и там не исправны, то создаётся новая используя макет из SYSTEM используя значения по умолчанию.
