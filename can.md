# Информация о шинах can
Магнитола имеет две шины. Основная шина CAN INFO DIV 125kb/s fault tolerant. Вторая шина связывает исключительно smeg и дисплей.  

## Список известных ID  
TELEMAT(smeg5) = [0x01C](/can.md#id-0x01c-%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA-%D0%B3%D1%83-%D0%B4%D0%BB%D0%B8%D0%BD%D0%B0-8-%D0%BE%D1%82%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D0%B5%D1%82%D1%81%D1%8F-%D0%BF%D1%80%D0%B8-%D0%B2%D0%BD%D0%B5%D1%81%D0%B5%D0%BD%D0%B8%D0%B8-%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B9-%D0%BD%D0%B0-%D0%B3%D1%83), 
0x131, 
[0x15B](/can.md#id-0x15b-%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA-%D0%B3%D1%83-%D0%B4%D0%BB%D0%B8%D0%BD%D0%B0-%D0%B2%D0%B8%D0%B4%D0%B8%D0%BC%D0%BE-%D0%BF%D0%BE%D0%B4%D1%80%D0%B0%D0%B7%D1%83%D0%BC%D0%B5%D0%B2%D0%B0%D0%B5%D1%82%D1%81%D1%8F-%D1%80%D0%B0%D0%B2%D0%BD%D0%BE%D0%B9-%D0%B4%D0%BB%D0%B8%D0%BD%D0%BD%D0%B5-id-0x260-%D0%BD%D0%B0%D1%87%D0%B8%D0%BD%D0%B0%D0%B5%D1%82-%D0%BE%D1%82%D1%81%D1%8B%D0%BB%D0%B0%D1%82%D1%8C%D1%81%D1%8F-%D0%BF%D1%80%D0%B8-%D0%B2%D0%BD%D0%B5%D1%81%D0%B5%D0%BD%D0%B8%D0%B8-%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B9-%D0%BD%D0%B0-%D0%B4%D0%B8%D1%81%D0%BF%D0%BB%D0%B5%D0%B5-%D0%B3%D1%83-%D1%81-%D1%87%D0%B0%D1%81%D1%82%D0%BE%D1%82%D0%BE%D0%B9-1000%D0%BC%D1%81-%D0%B8-%D0%B4%D0%BE-%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D1%8F-%D1%80%D0%B0%D0%B2%D0%BD%D0%BE%D0%B3%D0%BE-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%B0-%D0%BE%D1%82-bsi-id-0x260), 
0x165, 
[0x169](/can.md#id-0x169-%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA-%D0%B3%D1%83-%D0%B4%D0%BB%D0%B8%D0%BD%D0%BD%D0%B0-8-%D1%87%D0%B0%D1%81%D1%82%D0%BE%D1%82%D0%B0-1000%D0%BC%D1%81), 
0x1A5, 
[0x1A9](/can.md#id-0x1a9-%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA-%D0%B3%D1%83-%D0%B4%D0%BB%D0%B8%D0%BD%D0%B0-8-%D1%87%D0%B0%D1%81%D1%82%D0%BE%D1%82%D0%B0-200%D0%BC%D1%81), 
0x1E5, 
[0x1E9](/can.md#id-0x1e9-%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA-%D0%B3%D1%83-%D0%B4%D0%BB%D0%B8%D0%BD%D0%B0-3-%D1%87%D0%B0%D1%81%D1%82%D0%BE%D1%82%D0%B0-500%D0%BC%D1%81), 
[0x229](/can.md#id-0x229-%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA-%D0%B3%D1%83-%D1%87%D0%B0%D1%81%D1%82%D0%BE%D1%82%D0%B0-%D0%BE%D1%82%D1%81%D1%83%D1%82%D1%81%D1%82%D0%B2%D1%83%D0%B5%D1%82), 
[0x2E9](/can.md#id-0x2e9--%D0%B4%D0%BB%D0%B8%D0%BD%D0%B0-1-%D1%87%D0%B0%D1%81%D1%82%D0%BE%D1%82%D0%B0-200%D0%BC%D1%81), 
[0x328](/can.md#id-0x328-%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA-%D0%B3%D1%83-%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B0%D1%82%D0%B5%D0%BB%D1%8C-%D0%B4%D0%B8%D1%81%D0%BF%D0%BB%D0%B5%D0%B9-0x2dc-%D1%87%D0%B0%D1%81%D1%82%D0%BE%D1%82%D0%B0-%D0%BE%D1%82%D1%81%D1%83%D1%82%D1%81%D1%82%D0%B2%D1%83%D0%B5%D1%82), 
[0x364](/can.md#id-0x364-%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA-%D0%B3%D1%83-%D0%B4%D0%BB%D0%B8%D0%BD%D0%B0-5-%D1%87%D0%B0%D1%81%D1%82%D0%BE%D1%82%D0%B0-1000%D0%BC%D1%81), 
0x39B, 
0x524, 
0x5E4, 
0x664  
COMBINE(cirocco for smeg) = 0x217, 
0x257, 
[0x269](/main/can.md#id-0x229-%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA-%D0%B3%D1%83-%D1%87%D0%B0%D1%81%D1%82%D0%BE%D1%82%D0%B0-%D0%BE%D1%82%D1%81%D1%83%D1%82%D1%81%D1%82%D0%B2%D1%83%D0%B5%D1%82), 
0x2D7, 
[0x2DC](/can.md#id-0x328-%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA-%D0%B3%D1%83-%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B0%D1%82%D0%B5%D0%BB%D1%8C-%D0%B4%D0%B8%D1%81%D0%BF%D0%BB%D0%B5%D0%B9-0x2dc-%D1%87%D0%B0%D1%81%D1%82%D0%BE%D1%82%D0%B0-%D0%BE%D1%82%D1%81%D1%83%D1%82%D1%81%D1%82%D0%B2%D1%83%D0%B5%D1%82), 
0x2E7, 
0x317, 
0x31C,
0x3A7, 
0x51F, 
0x5DF, 
0x65F  

## Сигналы передаваемые по шине info
### ID 0x260, источник BSI, длина зависит от прошивки bsi, частота 500мс  
Пакет вещает текущие значения пользовательской конфигурации автомобиля. Предпологается, что при многопользовательской настройке, пакет будет свой, для каждого ключа автомобиля.  
D0[7]  устанавливает активность меню настроек системы и языков. если флаг снят, то на smeg оба меню не активные.  
D0[6-2] язык  
&nbsp; 0b00000 французский  
&nbsp; 0b00001 английский  
&nbsp; 0b00010 немецкий  
&nbsp; 0b00011 испанский  
&nbsp; 0b00100 итальянский  
&nbsp; 0b00101 португальский  
&nbsp; 0b00110 нидерландский  
&nbsp; 0b01000 бразильский(португальский)  
&nbsp; 0b01001 польский  
&nbsp; 0b01100 турецкий  
&nbsp; 0b01110 русский  
&nbsp; 0b01111 чешский  
&nbsp; 0b10000 хорватский  
&nbsp; 0b10001 венгерский  
D0[1]-D1[7] пробег и расход топлива  
&nbsp; 0b000 - l/100km-km  
&nbsp; 0b111 - mpg-miles  
&nbsp; 0b010 - km/l-km  
D1[6] температура цельсий - фаренгейт  
D1[5-3] яркость мягкой подсветки салона(7 ступеней 0b000-0b110)  
D1[2] устанавливает активность меню настроек систем автомобиля. если флаг снят, то на smeg пункты "настройка систем автомобиля" и "настройка скоростных режимов" не активные.  
D1[1]-D1[0] текущее значение темы звукового оформления(зуммер в подрулевом переключателе). четыре варианта.  
D2[7] текущее значение "автоматический стояночный тормоз"  
D2[6] текущее значение "пду для двери водителя"  
D2[5] текущее значение "пду для дверей кабины"  
D2[4] текущее значение "отпирание только багажника"  
D2[3] текущее значение "встреча водителя"  
D2[2] текущее значение "адаптивное освещение"  
D2[1]  текущее значение "дневные светодиодные ходовые огни"  
D2[0] текущее значение "мягкая подсветка салона"  
D3[7] текущее значение "статус сопровождающее освещение"  
D3[6-5] текущее значение "время сопровождающего освещения"  
&nbsp; 0b00=15сек  
&nbsp; 0b01=30сек  
&nbsp; 0b10=60сек  
D3[4]  
D3[3] текущее значение "дистанционное включение световых приборов"  
D3[2-1] текущее значение "время дистанционного включения световых приборов"  
&nbsp; 0b00=15сек  
&nbsp; 0b01=30сек  
&nbsp; 0b10=60сек  
D3[0] текущее значение "автоматическое включение дальнего света"  
D4[7] текущее значение "помощь при парковке"  
D4[6] текущее значение "помощь при обгоне"  
D4[5] текущее значение "включение очистителя заднего стекла"  
D4[4] текущее значение "электропривод крышки багажника"  
D4[3]  
D4[2]  
D4[1]  
D4[0]  
D5[7] текущее значение "сигнал о риске столкновения"  
D5[6-5] текущее значение "дистанция риска столкновения"  
&nbsp; 0x01=близко  
&nbsp; 0x10=норма  
&nbsp; 0x11=далеко  
D5[4]  текущее значение "автоматическое экстренное торможение" или текущее значение чекбокса "автомотическое торможение" в меню "сигнал о риске столкновения"   
D5[3]  
D5[2] текущее значение "автоматический наклон заднего зеркала при движении задним ходом"  
D5[1]  
D5[0]  
D6[7]  
D6[6]  
D6[5]  
D6[4]  
D6[3]  
D6[2]  текущее значение "подсветка решотки радиатора"  
D6[1]  
D6[0]  


### ID 0x15B, источник ГУ, длина, видимо, подразумевается равной длинне ID 0x260, Начинает отсылаться при внесении изменений на дисплее ГУ с частотой 1000мс и до получения равного ответа от BSI ID 0x260.  
Пакет задаёт значения пользовательской конфигурации автомобиля.  
Значения битовых масок равны ID 0x260 за исключением двух битов:  
D0[7] если флаг установлен в 0, то биты D0[6] - D1[6] не учитываются.  
D1[2] если флаг установлен в 0, то биты D1[5] и до конца не учитываются.  
  
### ID 0x361, источник BSI, длина зависит от прошивки bsi, частота 500мс  
Пакет вещает доступные опции пользовательской конфигурации автомобиля.  
D0[7] меню "настройка систем автомобиля"  
D0[6]  
D0[5] дистанционное включение световых приборов  
D0[4] адаптивное освещение  
D0[3] помощь при обгоне  
D0[2] мягкая подсветка салона  
D0[1] автоматическое включение дальнего света  
D0[0] дневные светодиодные ходовые огни  
D1[7] помощь при парковке  
D1[6] включение очистителя заднего стекла  
D1[5] сопровождающее освещение  
D1[4] встреча водителя  
D1[3] электропривод крышки багажника  
D1[2] отпирание только багажника  
D1[1] пду для двери водителя  
D1[0] пду для дверей кабины  
D2[7]  
D2[6]  меню "настройка скоростных режимов" (5 ячеек в BSI) (BSI2010 zone 233F)  
D2[5]  
D2[4] автоматический стояночный тормоз  
D2[3]   
D2[2] автоматический наклон заднего зеркала при включении передачи заднего хода  
D2[1]  
D2[0]  
D3[7]  
D3[6] автоматическое экстренное торможение или сигнал о риске столновения с пунктом автоматическое торможение (отключается вместе с зажиганием)  
D3[5] сигнал о риске столновения (отключается вместе с зажиганием)  
D3[4] меню "настройка скоростных режимов" (6 ячеек для круиза\лимита) (BSI2010 zone 23C0)  
D3[3]  
D3[2]  
D3[1]  
D3[0]  
D4[7]  
D4[6]  
D4[5]  
D4[4] подсветка решотки радиатора  
D4[3]  
D4[2]  
D4[1]  
D4[0]  
D5[7]  
D5[6]  
D5[5]  
D5[4]  
D5[3]  
D5[2]  
D5[1]  
D5[0]  

### ID 0x228, источник BSI, длина зависит от прошивки bsi, частота 1000мс  
Пакет вещает текущее состояние круиз контроля  
D0[7]-D1[0] установленная скорость(0-260км/ч), по умолчанию FFFF. Например D0=0x13 D1=88 в десятичной системе= 5000 = будет отображать 50км/ч. Глядя на байты D5-D6, возможно старший бит имеет другое назначение.  
D2[7] LIMIT - выбранный режим  
D2[6] CRUISE - выбранный режим  
D2[5] бит установлен, когда скорость автомобиля превышает заданную пользователем скорость(например нажатие на педаль газа). На приборной панели предусмотрено моргание индикатора выставленной скорости  
D2[4] бит установлен, когда скорость автомобиля находится в режиме регулировки(текущая скорость = заданной пользователем). Идет поддержание заданной скорости для LIMIT/CRUISE  
D2[3] бит установлен, когда скорость автомобиля находится в заданном диапазоне регулировки(>=0км/ч и <заданной пользователем)    
D2[2] бит возникновения ошибки при попытке активирировать систему с некорректными диапазонами(сигнал моргания). Например, D2=0x74 возникает и поддерживается несколько секунд при попытке активировать cruise на не допустимой скорости. Потом D2=0x70 для предотвращения мигания выставленной скорости на приборной панели.  
D2[1]  
D2[0] бит установлен, когда идет изменение заданной скорости, например от кнопок +/- руля, но бит не устанавливается при изменении скорости после клавиши MEM  
D3[7]  
D3[6]  
D3[5]  
D3[4]  
D3[3]   
D3[2]  
D3[1]  
D3[0]  
D4[7] CRUISE - запрос на внесение скорости из памяти(например, кнопка MEM на руле). На SMEG появляется вкладка  с выбором 6 
 предустановленных скоростей для круз-контроля. Не путать с 5 предустановленными скоростями, которые хранятся в BSI.  
D4[6] LIMIT - запрос на внесение скорости из памяти(например, кнопка MEM на руле). На SMEG появляется вкладка  с выбором 6 
 предустановленных скоростей для ограничителя скорости. Не путать с 5 предустановленными скоростями, которые хранятся в BSI.  
D4[5]-D4[0] установленное расстояние в секундах до впереди идущего автомобиля при наличии активного радара. Например: 0x19 = 25dex = 2,5сек  
D5[7]  
D5[6]-D6[0] отрегулированная скорость системами активного круиз-контроля. По умолчанию 7FFF  
D7[7]  
D7[6]  
D7[5]  
D7[4] Предположительно, бит выставлен, когда НЕ происходит изменение задающей скорости от систем активного круиза(скорость мишени равна скорости транспортного средства). Когда бит выставлен вместе с ID 0x1E7 D0[1] на приборной панели меняется пиктограмма круиза на пиктограмму круиза "скорость отрегулированна"   
D7[3]  
D7[2]  
D7[1]  
D7[0]  
примеры:  
	FF FF 30 00 14 7F FF 00 зажигание включено(в любом положении выключателя)  
	FF FF 00 80 14 7F FF 00 двигатель работает, система выключена  
	FF FF 00 80 14 7F FF 90 двигатель работает, активный круиз отключен через меню(работает как обычный)  
	1F 40 48 80 14 17 0C 10 выставлена скорость 80км/ч, задана дистанция 2с, зафиксировано впереди идущее транспортное средство со скоростью 59км/ч, производится регулировка а/м к скорости 59км/ч.  

### ID 0x1E7, источник BSI, длина зависит от прошивки bsi, частота 200мс  
Пакет вещает текущие значения индикатора временного интервала  
D0[7] Предположительно, статус системы - отключено. (бит выставлен при заглушенном двигателе)  
D0[6] система активна (в обычном режиме  и limit). В режиме cruise бит отсутствует.  
D0[5] бит неисправности радара, см. примеры  
D0[4] бит отображения. При этом бите приборная панель отображает текущее состояние времени.  
D0[3] красный контур, моргающий восклицательный знак  
D0[2]  
D0[1] обнаружена мишень. (на дисплее отображается автомобиль) так же см. id 0x228 D7[4]  
D0[0]  
D2 время в секундах до мишени. по умолчанию 0xFE (0с - 9,9с)  
Примеры:  
40  00  FE  65  FF  00  00 система активна, препядствий нет  
42  00  0D  65  FF  00  00 система активна, обнаружена мишень через 1,3с, вывод на дисплей не происходит(например скорость ниже 40км/ч)  
52  00  11  65  FF  00  00 система активна, обнаружена мишень через 1,7с, выводится на дисплей  
60  00  FE  65  FF  00  00 сообщение - пониженная обзорность  
70  00  FE  65  FF  00  00 сообщение - идёт инициализация   

### ID 0x364, источник ГУ, длина 5, частота 1000мс  
Пакет вещает нажатие сенсорных кнопок управления климатом  
Пример: 00 00 1E 00 00 - ничего не нажато  
D0[7] тепмература слева плюс  
D0[6] температура слева минус  
D0[5] температура справа плюс  
D0[4] температура справа минус  
D0[3] вентилятор плюс  
D0[2] вентилятор минус  
D0[1] клавиша поток вниз  
D0[0] клавиша поток вперёд  
D1[7] клавиша поток вверх  
D1[6] клавиша рециркуляция  
D1[5] клавиша система чистого воздуха  
D1[4] клавиша mono  
D1[3] клавиша a/c  
D1[2] клавиша auto  
D1[1] клавиша интенсивность - мягкий  
D1[0] клавиша интенсивность - норма  
D2[7] клавиша интенсивность - быстро  
D2[6]  
D2[5]  клавиша климат сзади выкл  
D2[4]  
D2[3]  
D2[2]  
D2[1]  
D2[0]  

### ID 0x350, источник FMUX, длина 7, частота 500мс  
Пакет вещает выбранные настройки переднего климат контроля.  
Надо понимать, что алгоритм управления климатконтролем находится в BSI. Блок климата является исполнительным устройством, получая от BSI информацию о прцентном положении приводов заслонок. FMUX соберает данные от всех панелей и передаёт их в этом пакете.  
Пример: 02  FF  FF  4D  0D  80  04  
D0[7]  
D0[6]  
D0[5] Нажатие кнопки подогрева заднего стекла. Появляется один раз при нажатии на кнопку.  
D0[4]  
D0[3] Индикация выключено кондиционера(A/C off)  
D0[2]  
D0[1-0] Индикация интенсивности вентилятора Мягкий\Норма\Быстро(индикация для ползунка/кнопки)  
D3[7]  
D3[6] Статус mono, климат меняет температуру на обоих ползунках с водительской крутилки  
D3[5]  
D3[4-0] Температура слева. Соответствует ряду ("LO","14","15","16","17","18","18,5","19","19,5","20","20,5","21","21,5","22","22,5","23","23,5","24","25","26","27","28","HI").  
D4[7]  
D4[6]  
D4[5]  
D4[4-0] Температура справа. Соответствует ряду ("LO","14","15","16","17","18","18,5","19","19,5","20","20,5","21","21,5","22","22,5","23","23,5","24","25","26","27","28","HI").  
D5[7] Система чистого воздуха активна(индикация для кнопки).  
D5[6-4]  
&nbsp; 0b000 система чистого воздуха активна(положение - загрезнение не обнаружено) , обогрев ветрого стекла отключен, рециркуляция воздуха откючена  
&nbsp; 0b001 обогрев ветрового стекла  
&nbsp; 0b011 рециркуляция воздуха активна(индикация для кнопки)  
&nbsp; 0b100 система чистого воздуха отключена , обогрев ветрого стекла отключен, рециркуляция воздуха откючена  
D5[3-0] Скорость вентилятора. 0 - auto(вентилятора) 1-9 - отображение скорости  
D6[7-4} Состояние распределительных заслонок слева  
&nbsp; 0 - auto(заслонок) Для индикации клавиши AUTO оба флага должны быть установлены в auto  
&nbsp; 1 - обогрев ветрового  
&nbsp; 2 - вниз  
&nbsp; 3 - вперёд  
&nbsp; 4 - вверх  
&nbsp; 5 - вперёд\вниз  
&nbsp; 6 - вверх\вниз  
&nbsp; 7 - вверх\вперёд  
&nbsp; 8 - виз\вперёд\вверх  

### ID 0x3D0, источник FMUX, длина 5, частота 500мс  
Пакет вещает выбранные настройки заднего климат контроля.  
Пример: 11 0b 0b 02 22  
D3[1] Задний климатконтроль выключен  

### ID 0x2AD, источник BSI, длина 5, частота 500мс  
Пакет вещает переферийные данные от климата  
Пример: 0E 00 00 53 32  
D0[7]  
D0[6]  
D0[5] статус - подогрев заднего стекла  
D0[4]  
D0[3]  
D0[2]  
D0[1-0] тип климата закодированный в BSI (BSI2010 zone 2387)  
&nbsp; 0b00 Sans climatisation  
&nbsp; 0b01 Réfrigération simple (RF)  
&nbsp; 0b10 Réfrigération à régulation automatique (RFTA)  
&nbsp; 0b11 Réfrigération simple avec régulation du mixage de l'air  
  
  ### ID 0x01C, источник ГУ, длина 8, отправляется при внесении изменений на ГУ  
Пакет задаёт предустановленные значения для памяти скоростей (5 ячеек в BSI)  
Пример: 00 00 9F 31 46 5A 6E 81  
D2[7]  
D2[6] Система ячеек активна  
D2[5]  
D2[4] Ячейка 1 активна  
D2[3] Ячейка 2 активна  
D2[2] Ячейка 3 активна  
D2[1] Ячейка 4 активна  
D2[0] Ячейка 5 активна  
D3 Скорость для ячейки 1  
D4 Скорость для ячейки 2  
D5 Скорость для ячейки 3  
D6 Скорость для ячейки 4  
D7 Скорость для ячейки 5  
 
### ID 0x1E8, источник BSI, длина 8, частота 1000мс  
Пакет вещает предустановленные значения для памяти скоростей (5 ячеек в BSI)  
Пример: 45 A0 9F 31 46 5A 6E 81  
D2[7]  
D2[6] Система ячеек активна  
D2[5] нажание клавиши MEM  
D2[4] Ячейка 1 активна  
D2[3] Ячейка 2 активна  
D2[2] Ячейка 3 активна  
D2[1] Ячейка 4 активна  
D2[0] Ячейка 5 активна  
D3 Скорость в ячейке 1  
D4 Скорость в ячейке 2  
D5 Скорость в ячейке 3  
D6 Скорость в ячейке 4  
D7 Скорость в ячейке 5  

### ID 0x2a8, источник BSI, длина 1, частота 1000мс  
пример: 80  
D0[7] интеллектуальный регулятор скорости выключен (статус для кнопки)  

### ID 0x227, источник BSI, длина зависит от прошивки BSI, частота 500мс  
Пакет вещает статусы индикаторов на кнопках  
пример:  
00 50 11 30 00  
00 40 10 20 00  
D0[7]  
D0[6] помощь при паркове"парктроник выкл"  
D0[5]  
D0[4] esp off  
D0[3]  
D0[2]  
D0[1]  
D0[0]  
D1[7] Ручник в действии (быстрое мигание)  
D1[6] Ручник активирован (горит)  
D1[5]  
D1[4] пересечение дорожной разметки  
D1[3]  
D1[2] подогрев заднего стекла  
D1[1]  
D1[0]  
D2[7]  
D2[6]  
D2[5]  
D2[4]  
D2[3]  
D2[2]  
D2[1] наблюдение в слепых зонах не работает  
D2[0] наблюдение в слепых зонах  
D3[7]  
D3[6]  
D3[5] временной интервал между автомобилями  
D3[4] автовключение дальнего света  
D3[3] eco off "стоп-старт" не работает  
D3[2] eco off "стоп-старт"  
D3[1]  
D3[0]  

### ID 0x1a9, источник ГУ, длина 8, частота 200мс  
Пакет вещает нажатие кнопок в меню drive  
пример 20 7F FF 00 FF 00 50 00  
D0[7] флаг установлен в единицу, когда монитор выключен (с кнопки в меню или darkmode)  
D0[6]  
D0[5] флаг активности ГУ??  
D0[4-3] клавиши управления ассистентом парковки  
&nbsp; 0b01 - въезд на парковку  
&nbsp; 0b10 - выезд с паковки  
&nbsp; 0b11 - перпендикулярная парковка  
D0[2] клавиша интеллектуальный регулятор скорости и\или клавиша измерение дистанции между автомобилями  
D0[1]  
D0[0]  
D3[7] дистанция минус (активный круиз)  
D3[6] дистанция плюс (активный круиз)  
D3[5] клавиша наблюдение в слепых зонах  
D3[4] клавиша пересечение дорожной разметки  
D3[3] клавиша авто включение дальнего света  
D3[2] клавиша помощь при парковке  
D3[1]  
D3[0]  
D4[7-0] скорость, выбранная из меню выбора скоростей (шесть предустановок) после нажатия клавиши MEM (см D7[3])  
D5[7-4] номер ячейки из памяти предустановленных скоростей (см D7[3])  
D5[3]  
D5[2] клавиша ассистент парковки (включить\выключить ассистента)  
D5[1]  
D5[0] клавиша инициализация системы контроля давления в шинах (после подтверждения)  
D6[7] клавиша стоп-старт  
D6[6] головное устройство работает (SMEG функционирует). Флаг ставится, когда головное устройство полностью загружено.  
D6[5] сигнал на смену темы. Тема автомобиля(ГУ и приборная панель) будет установлена на номер темы из 0x2E9.  
D6[4-1] значение ползунка яркости подсветки, 16 градаций (задаёт яркость подсветки)  
D6[0] клавиша check  
D7[7] включить\выключить систему камер (и приборка и меню smeg)  
D7[6] камера - сзади  
D7[5] камера - спереди  
D7[4] камера - обзор 360  
D7[3] флаг задания скорости - передаётся один раз после нажатия на выбранную скорость. Говорит о требовании взять скорость из байта D4, номер ячейки из D5[7-4]  
D7[2]  
D7[1]  
D7[0]  

### ID 0x2e9, , длина 1, частота 200мс  
Пакет вещает целевую тему А\М  
пример: 01  
D0 - номер темы, см 0x1a9  

### ID 0x1E9, источник ГУ, длина 3, частота 500мс  
Пакет вещает опасные зоны и рекомендованную скорость. Максимально воспринимаемая скорость приборкой = 199км\ч  
D0 скорость от системы опасных зон (передаётся вместе с кодом зоны) (можно не устанавливать, тогда на приборке отображается событие без скорости)  
D1 рекомендованная скорость от картографии (не должно вещаться событие опасных зон)  
D2[7-4] тип события от опасных зон  
&nbsp; 1 - автоматический контроль (радар на скорость)  
&nbsp; 2 - автоматический контроль (радар на проезд светофора)  
&nbsp; 3 - опасная зона (Прочие опасности)  
&nbsp; 4 - опасная зона (Крутой подъем)  
&nbsp; 5 - опасная зона (Крутой спуск)  
&nbsp; 6 - опасная зона (Железнодорожный переезд без шлагбаума)  
&nbsp; 7 - опасная зона (Железнодорожный переезд со шлагбаумом)  
&nbsp; 8 - опасная зона (Столкновение с пешеходом)  
пример:  
&nbsp; FF FF 00 рекомендации отсутствуют  
&nbsp; FF 5A F8 рекомендуемая скорость 90км\ч  

### ID 0x328, источник ГУ, получатель дисплей (0x2DC), частота отсутствует  
Радиотекст/названия треков на дисплей/приборную панель. Связка 0x328/2DC составляет транспортный уровень сообщений(ISO 15765-2)  
Формат сообщения расматривается без транспортного уровня.  
Структура сообщения рекурсивна.  
Компоновка элементов конечного экрана делится на несколько полей:  
&nbsp; Иконка источника сигнала  
&nbsp; Строка для отображения частоты станции, количества треков и т.д.  
&nbsp; Строка для пользовательского текста UTF-8 (название трека). Строка всегда заканчивается нольтерминатором. Если текст не передаётся, то отправляется один байт с нольтерминатором.  
&nbsp; Бегунок (линия бара)  
D0[7-4] Тип источника(формат посылки)  
&nbsp; 0 - радио  
&nbsp; 1 - телефон  
&nbsp; 2 - медианосители  
&nbsp; 3 - система вывода информации отключена  

Если тип источника = радио(0) :  
Формат данных состовляет не мение 5 байт.  
Пример: 0001043C00  
Пример: 0001043C454E4552475900  
D0[3]  
D0[2-1] Определяет состояние элементов отображения  
&nbsp; 0b00 - строка частоты | пользовательский текст (стандарный вид)  
&nbsp; 0b01 - строка частоты | бегунок загрузки | пользовательский текст = "--------"  
&nbsp; 0b10 - строка частоты | бегунок загрузки | пользовательский текст = "Обновление списка"  
&nbsp; 0b11 - строка частоты = "приёма нет" | пользовательский текст  
D0[0] - иконка MUTE  
D1[7]  
D1[6]  
D1[5]  
D1[4]  
D1[3] сигнал TA. (На cirocco поочерёдно моргает строка частоты / "Дорожн инфо")  
D1[2-0]	Режим радио  
&nbsp; 0 --- (неизвестно)  
&nbsp; 1 FM (FM1)  
&nbsp; 2 FM (FM2) не поддерживается на SMEG  
&nbsp; 3 DAB  
&nbsp; 4 --- (неизвестно) предположительно обратная совместимость. (FMast - autostore автоматическое сохранение в память станций с лучшим приёмом)  
&nbsp; 5 AM MW (средние волны)  
&nbsp; 6 AM LW (длинные волны)  
&nbsp; 7 --- (неизвестно)  
D2[7-4] Номер станции в памяти(15 ячеек)  
D2[3] - D3[0]  Частота радио станции. В зависимости от выбранной волны формат разный:  
&nbsp; FM = частота * 0.05 + 50 (MHz)  
&nbsp; AM = частота (KHz)  
&nbsp; DAB =  
D4 - и далее: пользовательская строка  

Если тип источника = телефон(1) :  
пример: 10052B373932363135373633373000  
D1[3-0] состояние связи  
&nbsp; 0x4 телефон пауза  
&nbsp; 0x5 телефон разговор  
&nbsp; 0x8 телефон пауза  
&nbsp; 0x9 телефон1 разговор  
&nbsp; 0xA телефон2 разговор  
D2 - и далее: пользовательская строка (телефонный номер)  

Если тип источника = медианосители(2) :  
Формат данных состовляет не мение 7 байт.  
пример: 2E01002E01F3D091D0B5D0B720D091D0BED18E00  
пример: 200100050051C3ACC3BFC3ADC3AEC3A2C3A000  
D0[3-1] Источник носителя  
&nbsp; 0b000 CD  
&nbsp; 0b001 CD (компакт чейнджер 6CD)  
&nbsp; 0b010 IPOD  
&nbsp; 0b011 USB  
&nbsp; 0b100 BT  
&nbsp; 0b101 AUX вспомогат  
&nbsp; 0b110 AUX вспомогат  
&nbsp; 0b111 MP3 (Jukebox)  
D0[0] - иконка MUTE  
D1[7] - "Загрузка" | бегунок | пользователького текста нет (для всех источников)  
D1[6]  --- (неизвестно)(реакция при компакт чейнджер 6CD)  
D1[5-3] номер диска в компакт чейнджер 6CD (при типе чейнджер должен всегда передаваться)  
D1[2] - ошибка источника (не прочитался CD и т.д), иконка | "Ошибка" | пользователького текста нет (для всех источников)  
D1[1-0] подтип источника для иконки (При CD носителе = audio/mp3)  
&nbsp; 0 CD (audio)  
&nbsp; 1 CD MP3  
&nbsp; 2 поля пустые  
&nbsp; 3 поля пустые  
D2-3 номер текущего трека  
D4-5 всего треков (cirocco воспринимает 4-значные номера)  
D6- и далее: пользовательская строка  

Если тип источника = отключено(3) :  
Передаётся один байт 0x30  

### ID 0x169, источник ГУ, длинна 8, частота 1000мс  
Статус навигационных подсказок, мастер пакет.  
Пример: 8704640011002D9C  
Пример: 0D0464272AFFFFFF  
Отображение информации делятся от типа приборной панели вещает время прибытия, растояние до цели, простые иконки событий, растояние до событий.  
D0[7] - Флаг активирует отображение информации. (приоритет 1) Если флаг выключен, то из пакета берётся только информация компаса (D0 = 0x08-0x17, 16 сегментов) и высоты над уровнем моря  
D0[6] - анимация "производится расчёт..." (приоритет 0)  
D0[5-0] иконки событий   
&nbsp; 	0 двигаться по прямой  
&nbsp; 	1 перестроится влево  
&nbsp; 	2 перестроится вправо  
&nbsp; 	3 развернутся налево  
&nbsp; 	4 развернутся направо  
&nbsp; 	5 круговое движение  
&nbsp; 	6 повернуть налево  
&nbsp; 	7 повернуть направо  
&nbsp; 	0x08-0x17 направление движения по стронам 16 сегментов, так же как в компасе  
&nbsp; 	0x18 флаг финиш  
&nbsp; 	0x19-0x25 зелёный флаг промежуточного пункта  
&nbsp; 	0x26-0x3f иконок событий нет (0x26 вещается, когда иконка передаётся в расширенном фрейме)  
D1[7]  
D1[6]  
D1[5]-D2[0] Высота над уровнем моря = значение - 999  
D3[7] - вызывает маленькую иконку финишного флага  
D3[6] - вызывает маленькую иконку финишного флага  
D3[5]-D4[0] растояние до цели назначения. 0-9999км. После 9999км(0x270F) идёт особый ряд: 10м, 20м, 30м, 40м, 50м, 60м, 70м, 80м, 90м, 100м, 150м, 200м, 250м, 300м, 350м, 400м, 600м, 800м, 1.2км, 1.4км, 1.6км, 1.8км, 2.2км, 2.4км, 2.6км, 2.8км  
D5[7]-D6[3] растояние до ближайшего события. Если событие передаётся в расшитеном режиме, то здесь растояние устанавливается в 0x1FFF. Растояние не линейно, соответствует ряду = 0м(0x00), 10м, 20м, 30м, 40м, 50м, 60м, 70м, 80м, 90м, 100м, 150м, 200м, 250м, 300м, 350м, 400м, 600м, 800м, 1.0км, 1.2км, 1.4км, 1.6км, 1.8км, 2.0км, 2.2км, 2.4км, 2.6км, 2.8км, 3.0км, 4.0км, 5.0км(0x1F), 6.0км, 7.0км, 8.0км, 9.0км, 10км и далее в килиметрах  
D6[2]-D7[6] время прибытия(часы 0-23)  
D7[5-0] время прибытия(минуты 0-59)  

### ID 0x229, источник ГУ, частота отсутствует  
Навигационные указатели на дисплей/приборную панель. Расширенный пакет. Связка 0x229/269 составляет транспортный уровень сообщений(ISO 15765-2)  
Формат сообщения расматривается без транспортного уровня.  
Структура сообщения рекурсивна.  
Все сообщения в конце содержат пользовательскую строку с нольтерминатором(UTF-8).  
D0[7-4] формат пакета  
&nbsp; 5 - этот фрейм служит для установки буферов формата 0x6 в значения по умолчанию  
&nbsp; 6 - указатели перекрёстков  
&nbsp; 8 - только текст  
&nbsp; С - движение по полосам  
  
Если формат = 0x8  
этот пакет отображает текст, как при выключеном навигаторе  в ID 0x169 (название текущей улицы), так и при вкюченом(название улицы для события).  
Пример: 8000 - этот фрейм служит для установки буферов формата 0x8 в значения по умолчанию  
Пример: 814D4F534B564100  
D0[1] - отображает пользовательский текст  
D1 и далее пользовательский текст  
  
Если формат = 0x6 перекрёстки (навигация в ID 0x169 должна быть настоена на вывод расширеного сообщения)  
Пример: 60000000000003D09CD09ED0A1D09AD092D09000  
Пример: 6C7F0001020026D09CD09ED0A1D09AD092D09000  
Пример: 60000040080026D09CD09ED0A1D09AD092D09000  
Компоновка элементов конечного экрана делится на несколько полей:  
&nbsp; Иконка события.  
&nbsp; Вертикальный статусбар до события (состоит из восьми кубиков)  
&nbsp; Строка с пользовательским текстом  
&nbsp; Растояние в метрах до события (0-350м)  
D0[3-1] Растояние до события в метрах. Соответствует ряду: 0м, 10м, 20м, 30м, 40м, 50м, 60м, 70м, 80м, 90м, 100м, 150м, 200м, 250м, 300м, 350м  
D1 - 8бит соответствуют восьми кубикам растояния вертикальной дистанции до события. ГУ вещает следующим рядом: 0x00(минимальное растояние), 0x01, 0x03, 0x07, 0x0F, 0x1F, 0x3F, 0x7F, 0xFF  
D2-D5 Стороны перекрёстков. Дорог на перекрёстках может быть 16. Также как сторон компаса и индикации направления. Счёт идёт против часовой стрелки начиная с юга.  
Каждой дороге выделено два бита. Представляем байты как последовательнось 32 бит. Где, D[31-30] юго-юго-восток, D[29-28] юго-восток и т.д.  
&nbsp; 0b00 - дорога отсутствует  
&nbsp; 0b01 - дорога присутствует  
&nbsp; 0b10 - указание двигаться по этой дороге  
&nbsp; 0b11 - дорога со знаком кирпич  
&nbsp; D[1-0] носят другой характер, так как предпологается, что это дорога на которой находится автомобиль.  
&nbsp; D[1] - 0=перекрёсток, 1=круговое движение  
&nbsp; D[0]  
D6[7]  
D6[6]  
D6[5-0] иконка события  
&nbsp; 0 иконки события нет  
&nbsp; 1 перестроится влево  
&nbsp; 2 перестроится вправо  
&nbsp; 3 развернуться налево  
&nbsp; 4 развернуться направо  
&nbsp; 5 развернуться через круговое движение  
&nbsp; 0x6-0x17иконки события нет  
&nbsp; 0x18 анимация - "флаг финиш"  
&nbsp; 0x18-0x25 анимация - "флаг промежуточный пункт"  
&nbsp; 0x26-0x3f иконок событий нет (0x26 вещается, когда иконка организуется байтами перекрёстка D2-D5)  
  
Если формат = 0x5  
Пример: 5F00000008002600 - этот фрейм служит для установки буферов формата 0x6 в значения по умолчанию  
  
Если формат = 0xC направление движения по полосам (навигация в ID 0x169 должна быть настоена на вывод расширеного сообщения)  
Пример: C0111111110000F800 - этот фрейм служит для установки буферов формата 0xC в значения по умолчанию  
Пример: C01BBBB88120FFAB00000000000000000000000000000000D09DD09ED092D09ED09AD09ED0A1D098D09DD09E00D0A3D09B2E20D09DD098D09AD09ED09BD090D0AF20D0A1D0A2D090D0A0D09ED0A1D0A2D098D09DD09000  
Компоновка элементов конечного экрана делится на несколько полей:  
&nbsp; Иконка события.  
&nbsp; Вертикальный статусбар до события (состоит из восьми кубиков)  
&nbsp; Строка с пользовательским текстом  
&nbsp; Строка с текстом названия съезда и пиктограммой действия  
&nbsp; Растояние в метрах до события (0-2,4км)  
D0[3-0]  
D1-D4 направление движения по полосам. До восми полос. Под каждый указатель выделено четыре бита. Старший бит - левый указатель.  
&nbsp; 0x0 указателя нет  
&nbsp; 0x1 указателя нет  
&nbsp; 0x2 указателя нет  
&nbsp; 0x3 указателя нет  
&nbsp; 0x4 указателя нет  
&nbsp; 0x5 указателя нет  
&nbsp; 0x6 движение прямо(заданный маршрут)  
&nbsp; 0x7 поворачивает налево(заданный маршрут)  
&nbsp; 0x8 поворачивает направо(заданный маршрут)  
&nbsp; 0x9 разворачивается направо(заданный маршрут)  
&nbsp; 0xA разворачивается налево(заданный маршрут)  
&nbsp; 0xB движение прямо  
&nbsp; 0xC поворачивает налево  
&nbsp; 0xD поворачивает направо  
&nbsp; 0xE разворачивается направо  
&nbsp; 0xF разворачивается налево  
D5[7-4] иконка магистрали:  
&nbsp; 0x0 иконки нет  
&nbsp; 0x1 съезд налево, повернуть в ответвление налево  
&nbsp; 0x2 съезд направо, повернуть в ответвление направо  
&nbsp; 0x3 ответвление магистрали направо, повернуть в ответвление направо  
&nbsp; 0x4 ответвление магистрали налево, повернуть в ответвление налево  
&nbsp; 0x5 ответвление магистрали с обоих сторон, ехать прямо  
&nbsp; 0x6 ответвление магистрали с обоих сторон,  повернуть в ответвление направо  
&nbsp; 0x7 ответвление магистрали с обоих сторон,  повернуть в ответвление налево  
&nbsp; 0x8 ответвление магистрали налево, ехать прямо  
&nbsp; 0x9 ответвление магистрали направо, ехать прямо  
&nbsp; 0xA иконки нет  
&nbsp; 0xB иконки нет  
&nbsp; 0xC иконки нет  
&nbsp; 0xD иконки нет  
&nbsp; 0xE иконки нет  
&nbsp; 0xF иконки нет  
D5[3-0]  
D6 - 8бит соответствуют восьми кубикам растояния вертикальной дистанции до события. ГУ вещает следующим рядом: 0x00(минимальное растояние), 0x01, 0x03, 0x07, 0x0F, 0x1F, 0x3F, 0x7F, 0xFF  
D7[7-3] растояние до события. Соответствует ряду 0м(0x00), 10м, 20м, 30м, 40м, 50м, 60м, 70м, 80м, 90м, 100м, 150м, 200м, 250м, 300м, 350м, 400м, 600м, 800м, 1.0км, 1.2км, 1.4км, 1.6км, 1.8км, 2.0км, 2.2км, 2.4км(0x1A)  
D7[2-1] иконка события в строке съезда  
&nbsp; 0b00 иконки нет  
&nbsp; 0b01 съезд направо  
&nbsp; 0b10 съезд налево  
&nbsp; 0b11 перекрёстная развязка (ехать прямо)  
D7[0] флаг отображения данного пакета (без этого флага событие не отображается)  
D8 и далее - пользовательский текст. По скольку в этом событии есть два текста, то тут либо распологается 0x00 для указания того, что тексты отсутствуют. Либо под текст съезда резервируется 16 байт и далее идёт текст названия улицы.  
